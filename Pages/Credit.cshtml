@page
@model CreditModel
@{
    ViewData["Title"] = "Кредитен калкулатор";
}

<h2>Кредитен калкулатор</h2>

<form method="post">
    <label>Размер на кредита:</label>
    <input asp-for="Amount" type="number" step="0.01" required />

    <label>Срок (месеци):</label>
    <input asp-for="Months" type="number" required />

    <label>Лихва (%):</label>
    <input asp-for="InterestRate" type="number" step="0.01" required />

    <label>Тип вноски:</label>
    <select asp-for="PaymentType">
        <option value="annuity">Анюитетни</option>
        <option value="decreasing">Намаляващи</option>
    </select>

    <h3>Промоционални условия (по избор):</h3>

    <label>Промоционален период (месеци):</label>
    <input asp-for="PromoMonths" type="number" />

    <label>Промоционална лихва (%):</label>
    <input asp-for="PromoRate" type="number" step="0.01" />

    <label>Гратисен период (месеци):</label>
    <input asp-for="GraceMonths" type="number" />
    <!--
     TODO: add missing things + switches % or bgn 
    -->
    <label>Такси (лв):</label>
    <input asp-for="Fees" type="number" step="0.01" />

    <button type="submit">Изчисли</button>
</form>

@if (Model.ShowResults)
{
    <h3>Резултати:</h3>
    <p>Месечна вноска: @Model.MonthlyPayment.ToString("F2") лв.</p>
    <p>Общо изплатена сума: @Model.TotalPaid.ToString("F2") лв.</p>
    <p>Общо лихви и такси: @Model.TotalInterest.ToString("F2") лв.</p>
}
