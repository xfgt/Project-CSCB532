@page
@model RefinanceModel
@{
    ViewData["Title"] = "Калкулатор за рефинансиране на кредит";
}

<h2>Калкулатор за рефинансиране на кредит</h2>
<p>Пресметнете дали рефинансирането на задълженията Ви е изгодно</p>

<form method="post" class="refinance-form">

    <h3>Настоящ кредит</h3>
    <div class="grid">
        <div>
            <label>Размер на кредита *</label>
            <input asp-for="CurrentAmount" type="number" step="0.01" required />
        </div>
        <div>
            <label>Лихва (%) *</label>
            <input asp-for="CurrentRate" type="number" step="0.01" required />
        </div>
        <div>
            <label>Срок на кредита (месеци) *</label>
            <input asp-for="CurrentMonths" type="number" required />
        </div>
        <div>
            <label>Брой на направените вноски *</label>
            <input asp-for="PaymentsMade" type="number" required />
        </div>
        <div>
            <label>Такса за предсрочно погасяване (%) *</label>
            <input asp-for="EarlyFee" type="number" step="0.01" required />
        </div>
    </div>

    <h3>Нов кредит</h3>
    <div class="grid">
        <div>
            <label>Лихва *</label>
            <input asp-for="NewRate" type="number" step="0.01" required />
        </div>
        <div>
            <label>Първоначални такси (%) *</label>
            <input asp-for="NewFeePercent" type="number" step="0.01" required />
        </div>
        <div>
            <label>Първоначални такси (валута) *</label>
            <input asp-for="NewFeeFixed" type="number" step="0.01" required />
        </div>
    </div>

    <button type="submit" class="btn">ИЗЧИСЛИ</button>
    <p class="note">* задължителни полета</p>
</form>

@if (Model.ShowResults)
{
    <h3>Резултати</h3>
    <p>Оставаща главница: @Model.RemainingPrincipal.ToString("F2") лв.</p>
    <p>Разход по стария кредит: @Model.OldTotalCost.ToString("F2") лв.</p>
    <p>Разход по новия кредит: @Model.NewTotalCost.ToString("F2") лв.</p>
    <p><b>Разлика (спестяване): @Model.Saving.ToString("F2") лв.</b></p>
}

